{"mappings":"YAQAA,OAAOC,iBAAiB,QAKxB,WACEC,QAAQC,IAAI,SAWIC,EAnBZC,oKAmBiBC,EARNC,EASfC,MAAMJ,GACHK,MAAMC,GAAaA,EAASC,SAC5BF,MAAMG,IACLN,EAASM,MAVbC,SAASC,iBAAiB,WAAWC,SAASC,IAC5CA,EAAOf,iBAAiB,QAASgB,MAKrC,IAAkBb,EAAKE,SAdnBY,EADAC,EAAgB,IAuBpB,SAAAZ,EAAiBa,GACfF,EAAaE,EAAKC,MAClBC,IAGF,SAAAL,IACEJ,SAASC,iBAAiB,WAAWC,SAASC,IAC5CA,EAAOO,UAAUC,OAAO,eAE1BtB,QAAQC,IAAIsB,KAAKC,QAAQC,SAAU,cACnCR,EAAgBM,KAAKC,QAAQC,SAC7BF,KAAKF,UAAUK,IAAI,YACnBN,IAGF,SAAAA,UACQO,EAAOhB,SAASiB,cAAc,oBAGhCC,EAFJF,EAAKG,UAAY,GACjB9B,QAAQC,IAAIe,GAGU,MAAlBC,EACFY,EAAeb,GAEfhB,QAAQC,IAAI,cACZ4B,EAAeb,EAAWe,OAAOC,IAInCH,EAAaI,MAAK,SAAUC,EAAGC,UACtBD,EAAEE,OAAOC,YAAcF,EAAEC,OAAOC,eAGzCR,EAAahB,SAASyB,QAChBC,EAAK5B,SAAS6B,cAAc,MAChCD,EAAGE,YAAcH,EAAOF,OAAOM,YAGG,IAA9BJ,EAAOF,OAAOC,aAChBE,EAAGlB,UAAUK,IAAI,aAGnBC,EAAKgB,OAAOJ,MAIhB,SAAAP,EAAoBM,MACdA,EAAOF,OAAOQ,WACZN,EAAOF,OAAOQ,IAAIC,gBAAkB5B","sources":["./src/artists.js"],"sourcesContent":["\"use strict\";\n\nimport { accessToken, spaceID } from \"../config/contentful\";\n\nconst entryID = \"6URuJ3VZ8sEaX4JN4z9DDk\";\n\nconst link = `https://cdn.contentful.com/spaces/${spaceID}/environments/master/entries?access_token=${accessToken}&content_type=individualArtist`;\n\nwindow.addEventListener(\"load\", start);\n\nlet currentFilter = \"*\";\nlet allArtists;\n\nfunction start() {\n  console.log(\"start\");\n\n  // show data at load\n  loadJSON(link, setData);\n\n  document.querySelectorAll(\".filter\").forEach((button) => {\n    button.addEventListener(\"click\", setFilter);\n  });\n}\n\n// loads data\nfunction loadJSON(url, callback) {\n  fetch(url)\n    .then((response) => response.json())\n    .then((jsonData) => {\n      callback(jsonData);\n    });\n}\n\nfunction setData(data) {\n  allArtists = data.items;\n  showData();\n}\n\nfunction setFilter() {\n  document.querySelectorAll(\".filter\").forEach((button) => {\n    button.classList.remove(\"selected\");\n  });\n  console.log(this.dataset.kategori, \"set filter\");\n  currentFilter = this.dataset.kategori;\n  this.classList.add(\"selected\");\n  showData();\n}\n\nfunction showData() {\n  const list = document.querySelector(\"#all-artists\");\n  list.innerHTML = \"\";\n  console.log(allArtists);\n  let filteredList;\n\n  if (currentFilter === \"*\") {\n    filteredList = allArtists;\n  } else {\n    console.log(\"filter lis\");\n    filteredList = allArtists.filter(filterList);\n  }\n\n  // sort the artists, so the headliners are first\n  filteredList.sort(function (a, b) {\n    return a.fields.isHeadliner - b.fields.isHeadliner;\n  });\n\n  filteredList.forEach((artist) => {\n    let li = document.createElement(\"li\");\n    li.textContent = artist.fields.artistName;\n\n    // Checks if artist is headliner\n    if (artist.fields.isHeadliner === true) {\n      li.classList.add(\"headliner\");\n    }\n    // add the <li> to the html list\n    list.append(li);\n  });\n}\n\nfunction filterList(artist) {\n  if (artist.fields.day) {\n    if (artist.fields.day.toLowerCase() === currentFilter) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n}\n"],"names":["window","addEventListener","console","log","url","$35930ad59d639a8331a1792736e7f51c$var$link","callback","$35930ad59d639a8331a1792736e7f51c$var$setData","fetch","then","response","json","jsonData","document","querySelectorAll","forEach","button","$35930ad59d639a8331a1792736e7f51c$var$setFilter","$35930ad59d639a8331a1792736e7f51c$var$allArtists","$35930ad59d639a8331a1792736e7f51c$var$currentFilter","data","items","$35930ad59d639a8331a1792736e7f51c$var$showData","classList","remove","this","dataset","kategori","add","list","querySelector","filteredList","innerHTML","filter","$35930ad59d639a8331a1792736e7f51c$var$filterList","sort","a","b","fields","isHeadliner","artist","li","createElement","textContent","artistName","append","day","toLowerCase"],"version":3,"file":"artists.HASH_REF_5b77df16f36c7eacc540e0d65a135b08.js.map"}